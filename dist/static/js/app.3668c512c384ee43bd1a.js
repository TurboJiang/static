webpackJsonp([1],{"34KM":function(s,t){},E2I0:function(s,t){},NHnr:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("7+uW"),i=e("woOf"),l=e.n(i),n={name:"Header",props:{seller:{type:Object}},data:function(){return{classMap:[],detailShow:!1}},created:function(){this.classMap=["decrease","discount","guarantee","invoice","special"]},methods:{showDetail:function(){this.detailShow=!0},hideDetail:function(){this.detailShow=!1}}},r={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"header"},[e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:s.seller.avatar,alt:"",width:"64",height:"64"}})]),s._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[e("span",{staticClass:"brand"}),s._v(" "),e("span",{staticClass:"name"},[s._v(s._s(s.seller.name))])]),s._v(" "),e("div",{staticClass:"description"},[s._v(s._s(s.seller.description)+"/"+s._s(s.seller.deliveryTime)+"分钟送达")]),s._v(" "),s.seller.supports?e("div",{staticClass:"support"},[e("span",{staticClass:"icon",class:s.classMap[s.seller.supports[0].type]}),s._v(" "),e("span",{staticClass:"text"},[s._v(s._s(s.seller.supports[0].description))])]):s._e()]),s._v(" "),s.seller.supports?e("div",{staticClass:"support-count",on:{click:s.showDetail}},[e("span",{staticClass:"count"},[s._v(s._s(s.seller.supports.length)+"个")]),s._v(" "),e("i",{staticClass:"icon-keyboard_arrow_right"})]):s._e()]),s._v(" "),e("div",{staticClass:"bulletin-wrapper",on:{click:s.showDetail}},[e("span",{staticClass:"bulletin-title"}),s._v(" "),e("span",{staticClass:"bulletin-text"},[s._v(s._s(s.seller.bulletin))]),s._v(" "),e("i",{staticClass:"icon-keyboard_arrow_right"})]),s._v(" "),e("div",{staticClass:"background"},[e("img",{attrs:{src:s.seller.avatar,alt:"",width:"100%",height:"100%"}})]),s._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.detailShow,expression:"detailShow"}],staticClass:"detail"},[e("div",{staticClass:"detail-wrapper clearfix"},[e("div",{staticClass:"detail-main"},[e("h1",{staticClass:"name"},[s._v(s._s(s.seller.name))]),s._v(" "),e("div",{staticClass:"star-wrapper"}),s._v(" "),e("div",{staticClass:"title"},[e("div",{staticClass:"line"}),s._v(" "),e("div",{staticClass:"text"},[s._v("优惠信息")]),s._v(" "),e("div",{staticClass:"line"})]),s._v(" "),s.seller.supports?e("ul",{staticClass:"supports"},s._l(s.seller.supports,function(t,a){return e("li",{key:a,staticClass:"support-item"},[e("span",{staticClass:"icon",class:s.classMap[s.seller.supports[a].type]}),s._v(" "),e("span",{staticClass:"text"},[s._v(s._s(s.seller.supports[a].description))])])}),0):s._e(),s._v(" "),e("div",{staticClass:"title"},[e("div",{staticClass:"line"}),s._v(" "),e("div",{staticClass:"text"},[s._v("商家公告")]),s._v(" "),e("div",{staticClass:"line"})]),s._v(" "),e("div",{staticClass:"bulletin"},[e("p",{staticClass:"content"},[s._v(s._s(s.seller.bulletin))])])])]),s._v(" "),e("div",{staticClass:"detail-close",on:{click:s.hideDetail}},[e("i",{staticClass:"icon-close"})])])])],1)},staticRenderFns:[]};var o={name:"App",data:function(){return{seller:{}}},components:{"v-header":e("VU/8")(n,r,!1,function(s){e("E2I0")},"data-v-a985c94c",null).exports},created:function(){var s=this;this.$http.get("https://www.easy-mock.com/mock/5d00f540294a6f025a3f9924/vue-eleme-app/vue-eleme-app").then(function(t){console.log(t),0===t.data.errno&&(s.seller=l()({},s.seller,t.data.data))})}},c={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-header",{attrs:{seller:s.seller}}),s._v(" "),e("div",{staticClass:"tab border-1px"},[e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:"/goods"}},[s._v("商品")])],1),s._v(" "),e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:"/ratings"}},[s._v("评论")])],1),s._v(" "),e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:"/seller"}},[s._v("商家")])],1)]),s._v(" "),e("router-view")],1)},staticRenderFns:[]};var d=e("VU/8")(o,c,!1,function(s){e("vs8R")},null,null).exports,p=e("/ocq"),v=e("GQaK"),u={name:"goods",data:function(){return{goods:[],classMap:[],listHeight:[],scrollY:0}},computed:{currentIndex:function(){for(var s=0;s<this.listHeight.length;s++){var t=this.listHeight[s],e=this.listHeight[s+1];if(!e||this.scrollY>=t&&this.scrollY<e)return s}return 0}},created:function(){var s=this;this.classMap=["decrease","discount","special","invoice","guarantee"],this.$http.get("https://www.easy-mock.com/mock/5d023d7efb82272509b46e32/eleme-goods/eleme-goods").then(function(t){0===t.data.errno&&(s.goods=t.data.data,s.$nextTick(function(){s._initScroll()}))})},methods:{_initScroll:function(){var s=this;this.menuScroll=new v.a(this.$refs.menuWrapper,{click:!0}),this.foodsScroll=new v.a(this.$refs.foodsWrapper,{click:!0,probeType:3}),this.foodsScroll.on("scroll",function(t){s.scrollY=Math.abs(Math.round(t.y)),console.log(s.scrollY)})},selectMenu:function(s,t){if(console.log(s,t),t._constructed){var e=this.$refs.foodList[s];this.foodsScroll.scrollToElement(e,300)}},_calculateHeight:function(){var s=this.$refs.foodList,t=0;this.listHeight.push(t);for(var e=0;e<s.length;e++){t+=s[e].clientHeight,this.listHeight.push(t)}},selectFood:function(s,t){t._constructed&&(this.selectedFood=s,this.$refs.food.show())}}},_={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[e("div",{staticClass:"goods"},[e("div",{ref:"menuWrapper",staticClass:"menu-wrapper"},[e("ul",s._l(s.goods,function(t,a){return e("li",{key:a,staticClass:"menu-item",class:{current:s.currentIndex===a},on:{click:function(t){return s.selectMenu(a,t)}}},[e("span",{staticClass:"text border-1px"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.type>0,expression:"item.type > 0"}],staticClass:"icon",class:s.classMap[t.type]}),s._v("\r\n              "+s._s(t.name)+"\r\n            ")])])}),0)]),s._v(" "),e("div",{ref:"foodsWrapper",staticClass:"foods-wrapper"},[e("ul",s._l(s.goods,function(t,a){return e("li",{key:a,ref:"foodList",refInFor:!0,staticClass:"food-list"},[e("h1",{staticClass:"title"},[s._v(s._s(t.name))]),s._v(" "),e("ul",s._l(t.foods,function(t,a){return e("li",{key:a,staticClass:"food-item border-1px",on:{click:function(t){return s.selectFood(a,t)}}},[e("div",{staticClass:"icon"},[e("img",{attrs:{src:t.icon,alt:"",width:"57",height:"57"}})]),s._v(" "),e("div",{staticClass:"content"},[e("h2",{staticClass:"name"},[s._v(s._s(t.name))]),s._v(" "),e("p",{staticClass:"desc"},[s._v(s._s(t.description))]),s._v(" "),e("div",{staticClass:"extra"},[e("span",{staticClass:"count"},[s._v("月售"+s._s(t.sellCount)+"份")]),s._v(" "),e("span",[s._v("好评率"+s._s(t.rating)+"%")])]),s._v(" "),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[s._v("￥"+s._s(t.price))]),s._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[s._v("￥"+s._s(t.oldPrice))])])])])}),0)])}),0)])])])},staticRenderFns:[]};var h=e("VU/8")(u,_,!1,function(s){e("qWBn")},"data-v-ee2cffca",null).exports;a.a.use(p.a);var f=new p.a({routes:[{path:"/",name:"Goods",component:h},{path:"/goods",name:"Goods",component:h}]}),C=e("mtWM"),m=e.n(C);e("34KM");a.a.config.productionTip=!1,a.a.prototype.$http=m.a,new a.a({el:"#app",router:f,components:{App:d},template:"<App/>"})},qWBn:function(s,t){},vs8R:function(s,t){}},["NHnr"]);
//# sourceMappingURL=app.3668c512c384ee43bd1a.js.map